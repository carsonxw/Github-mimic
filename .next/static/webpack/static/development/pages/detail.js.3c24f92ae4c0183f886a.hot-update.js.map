{"version":3,"file":"static/webpack/static/development/pages/detail.js.3c24f92ae4c0183f886a.hot-update.js","sources":["webpack:///./pages/detail/index.js"],"sourcesContent":["import MarkdownIt from 'markdown-it';\nimport 'github-markdown-css';\n\nimport withRepoBasic from '../../components/with-repo-basic';\nimport api from '../../lib/api';\n\nconst md = new MarkdownIt();\n\nfunction b64_to_utf8(str) {\n    return decodeURIComponent(escape(atob(str)));\n}\n\nfunction Detail({ readme }) {\n    const content = atob(readme.content);\n    const html = md.render(content);\n    return (\n        <div className=\"markdown-body\">\n            <div dangerouslySetInnerHTML={{ __html: html }} />  \n        </div>\n    )\n}\n\nDetail.getInitialProps = async ({ ctx: {\n    query: {\n        owner, \n        name \n    },\n    req,\n    res\n}}) => {\n    console.log('detial get init');\n    const readmeResp = await api.request(\n        {\n            url: `/repos/${owner}/${name}/readme`\n        },\n        req,\n        res\n    )\n     \n    return {\n        readme: readmeResp.data\n    }\n}\n\nexport default withRepoBasic(Detail, 'readme') ;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAQA;AARA;AAAA;AAWA;AADA;AACA;AAXA;AASA;AATA;AAkBA;AADA;AACA;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAqBA;;;;A","sourceRoot":""}